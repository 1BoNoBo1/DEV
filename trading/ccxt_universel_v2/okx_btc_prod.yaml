version: 1
tasks:
  - name: okx_btc_live_sqlite
    mode: stream
    stream: ohlcv
    exchange: okx
    type_marche: swap
    sous_type: linear
    symbole: BTC/USDT:USDT
    timeframe: 1m
    duree: 0                  # 0 ou None = Infini (service long-run)
    prix_ohlcv: mark
    exclure_bougie_courante: true
    format: sqlite
    sqlite_table: ohlcv_1m
    sortie: donnees/okx_live.sqlite
    flush: 1     # ← flush à chaque bougie (1m)

